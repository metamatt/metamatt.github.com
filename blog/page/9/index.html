
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Step 2 is the hard part.</title>
  <meta name="author" content="Matt Ginzton">

  
  <meta name="description" content="That time is not for the candidates. It is for the voters. &mdash;Newton N. Minow on why candidates for public office should get free TV airtime to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.metamatt.com/blog/page/9/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Step 2 is the hard part." type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-19563060-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Step 2 is the hard part.</a></h1>
  
    <h2>Matt Ginzton writes here.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.metamatt.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/22/that-time-is-not-for-the-candidates-it-is-for-the-voters/">That Time Is Not for the Candidates. It Is for the Voters.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-22T00:00:00-04:00" pubdate data-updated="true">Mar 22<span>nd</span>, 2011</time>
        
         | <a href="/blog/2011/03/22/that-time-is-not-for-the-candidates-it-is-for-the-voters/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>That time is not for the candidates. It is for the voters.</p></blockquote>

<p>&mdash;Newton N. Minow on why candidates for public office should get free TV airtime to discuss their positions, in <a href="http://www.theatlantic.com/magazine/archive/2011/04/a-vaster-wasteland/8418/2/">A Vaster Wasteland</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/22/im-not-proposing-complacency-here-i-am-proposing-perspective/">I’m Not Proposing Complacency Here. I Am Proposing Perspective.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-22T00:00:00-04:00" pubdate data-updated="true">Mar 22<span>nd</span>, 2011</time>
        
         | <a href="/blog/2011/03/22/im-not-proposing-complacency-here-i-am-proposing-perspective/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>I&rsquo;m not proposing complacency here. I am proposing perspective.</p></blockquote>

<p>&mdash;George Monbiot, in <a href="http://www.guardian.co.uk/commentisfree/2011/mar/21/pro-nuclear-japan-fukushima">Why Fukushima made me stop worrying and love nuclear power</a>, on injecting contrarian common sense into an emotional debate.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/22/as-we-think-about-the-next-50-years-i-remember-a-story-president-kennedy-told-a-week-before-he-was-killed-the-story-was-about-french-marshal-louis-hubert-gonzalve-lyautey-who-walked-one-morning-through/">As We Think About the Next 50 Years, I Remember a Story President Kennedy Told a Week Before He Was Killed. The Story Was About French Marshal Louis-Hubert-Gonzalve Lyautey, Who Walked One Morning Through His Garden With His Gardener. He Stopped at a Certain Point and Asked the Gardener to Plant a Tree There the Next Morning. The Gardener Said, “but the Tree Will Not Bloom for 100 Years.” the Marshal Replied, “in That Case, You Had Better Plant It This Afternoon.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-22T00:00:00-04:00" pubdate data-updated="true">Mar 22<span>nd</span>, 2011</time>
        
         | <a href="/blog/2011/03/22/as-we-think-about-the-next-50-years-i-remember-a-story-president-kennedy-told-a-week-before-he-was-killed-the-story-was-about-french-marshal-louis-hubert-gonzalve-lyautey-who-walked-one-morning-through/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>As we think about the next 50 years, I remember a story President Kennedy
told a week before he was killed. The story was about French Marshal Louis-
Hubert-Gonzalve Lyautey, who walked one morning through his garden with his
gardener. He stopped at a certain point and asked the gardener to plant a tree
there the next morning. The gardener said, “But the tree will not bloom for
100 years.” The marshal replied, “In that case, you had better plant it this
afternoon.</p></blockquote>

<p>&mdash;Newton N. Minow on taking a long-term view, in <a href="http://www.theatlantic.com/magazine/archive/2011/04/a-vaster-wasteland/8418/2/">A Vaster Wasteland</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/17/re-browser-ui/">Re: Browser Ui</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-17T00:00:00-04:00" pubdate data-updated="true">Mar 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/03/17/re-browser-ui/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://puntium.tumblr.com/post/3923741525">puntium</a>:</p>

<blockquote><p>Dear browser designers. Please find a way to put my bookmarks bar next to my
URL bar.</p>

<p>Increasingly, the tab bar is becoming the equivalent of the taskbar, with
each app taking up a slot. So IE9-ish combining of URL and tab bar seems
constraining.</p>

<p>What is easier to constrain, is the layout of my bookmark bar. Being able to
put that up by my URL input bar makes a lot of sense. They’re both
navigational, and both are right now bigger than they need to be.</p></blockquote>

<p>Seems reasonable. I barely use bookmarks and often turn off that bar entirely,
so I don&rsquo;t really care, but certainly the tab bar needs all the space I can
give it, the address bar is also important, and I agree the bookmark bar is
the place to regain vertical space.</p>

<p>Something&rsquo;s funny here though &mdash; IE4 could do what you asked (IE4 was also a
new version of the Windows shell, basically, and it introduced the rebar
control, and this was before tabs but each of address/bookmarks/some other
stuff was its own toolbar, each of which could be dragged around in the rebar,
sharing rows or not, and I typically would dock the bookmarks toolbar at the
right end of the address bar, so they&rsquo;d share a row). Too bad this ability got
lost in the sands of time.</p>

<p>Actually it&rsquo;s worth thinking back on what the main browser UI elements have
been, over time, besides the content &mdash; in 1997 it was menu bar, address bar,
control buttons for back/forward/home/stop/reload/maybe some other stuff, and
bookmarks. Since then we gained a search box and tabs, then lost most of the
title bar and (except for on Mac OS) the menu bar, and now we&rsquo;re trending
towards simplifying the control buttons to just back/forward/reload+stop, and
merging the search box with the address bar.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/17/geolocation-against-a-mobile-base-station---how-does-it-work/">Geolocation Against a Mobile Base Station - How Does It Work?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-17T00:00:00-04:00" pubdate data-updated="true">Mar 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/03/17/geolocation-against-a-mobile-base-station---how-does-it-work/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I just saw these <a href="http://blog.urbanape.com/post/3798485232/show-me-the-%0Away">two</a> <a href="http://www.tabletmonsters.com/news/video-wi-fi-only-ipad-2-gps-%0Anavigation">posts</a> describing how an iPad tethered to an iPhone still gets accurate
and up-to-date location information without GPS (via DF, citing this ability
as &ldquo;<a href="http://daringfireball.net/linked/2011/03/16/gps-tethering">another reason to consider a Wi-Fi-only
iPad</a>&rdquo;).</p>

<p>(As background, location information on mobile devices generally comes from
some combination of 3 sources, each of which may or may not be available: (1)
triangulation against GPS satellites, (2) triangulation against the cellular
network towers, (3) triangulation against Wi-Fi base stations. On cell phones,
GPS is often implemented as A-GPS, which means &ldquo;assisted GPS&rdquo; and is often
confused with #2, but is actually a combination of #1 and #2 &mdash; that is, A-GPS
is a superset of standard GPS. The reason for having 3 different methods is
partly that each one requires a separate radio, and partly that different
methods work better in different situations &mdash; GPS is most accurate and covers
the whole globe but is slow and only works outdoors; the other two only work
in areas with cellular or Wi-Fi coverage and are less accurate.)</p>

<p>Recent smartphones generally support all 3 of these methods (the original
iPhone lacked a GPS chip, and used #2 and #3). An iPod Touch has only a Wi-Fi
radio, no cellular radio and no GPS radio, so it can do only #3; this is also
true of most current laptops. The iPad is sold in two versions, branded as Wi-
Fi and 3G; Apple also adds a GPS chip only in the 3G models, so the Wi-Fi iPad
can do only #3, and the 3G iPad can do all 3 methods (this is true of both the
original iPad and iPad 2).</p>

<p>So. Clearly the 3G iPad is better equipped to know its location &mdash; the
question is how well the Wi-Fi only iPad can know its location, especially,
say, if you&rsquo;re driving around using it for navigation, and its data connection
is coming from Wi-Fi tethering to a mobile hotspot (in the examples above an
iPhone 4, but in theory this could also be another cell phone with mobile
hotspot feature, or dedicated mobile hotspot device &mdash; I wonder if that works
too).</p>

<p>This is a Wi-Fi only iPad, so clearly it can&rsquo;t use techniques #1 or #2. It can
use #3, but the standard query &mdash; &ldquo;I can see the base station with this MAC
address; where am I?&rdquo; doesn&rsquo;t work in a straightforward way when the base
station is a mobile hotspot with no fixed location. That&rsquo;s why the fact that
it does work is news.</p>

<p>After brainstorming with friends we came up with 4 possible ways this could
work:</p>

<p>1) Collusion between the iPad and the hotspot: Some new protocol/secret
channel between the iPad and the mobile hotspot, where without using any of
the standard techniques listed above, the iPad can just ask the mobile hotspot
where it is. (The mobile hotspot has access at least to technique #2, and
probably #1, so it knows where it is.) This would be easy for Apple to do, but
somebody would probably have noticed if there was a new network service on the
iPhone whereby you could query its location. (NB 1: this might have privacy
concerns, though if all you can do is ask an iPhone where it is when you&rsquo;re
already right next to it, these concerns are minimal. NB 2: this would only
work with Apple hotspots, not, say, a Mi-Fi.)</p>

<p>2) Collusion between the hotspot and the service that implements base station
&ndash;> location lookups: This would make modify technique #3 to cooperate with
base stations that move around frequently, i.e. mobile hotspots. This is
believable, since Apple originally licensed said service from Skyhook and then
later moved to their own implementation. Maybe the iPhone in personal hotspot
mode is constantly updating Apple with its location, and the iPad can then do
the normal &ldquo;where is base station with this MAC address&rdquo; query and actually
get up-to-date results. (NB 1: this might also have privacy concerns, if
anybody can query the database by MAC address and follow your iPhone around.
NB 2: this would also work only with Apple hotspots, at least initially.)</p>

<ol>
<li><p>Collusion between the location service and the cellular network: the cell
network knows where your mobile hotspot is (using technique #2), and it knows
what IP address it&rsquo;s assigned to your mobile hotspot. All of the data from
your tethered iPad is being routed through that IP address. Thus, it&rsquo;s
theoretically possible for the cell network to implement a service that
answers the question &ldquo;I sent you a data packet, look at its IP source and map
that to a mobile hotspot and tell me where I am&rdquo;. This doesn&rsquo;t seem to have
any privacy issues, and doesn&rsquo;t require any changes to the hotspot so would
work with all hotspots, and would be a neat service for the cell networks to
offer, but you&rsquo;d have to get every cell network to offer it, and I&rsquo;m not aware
of any such thing.</p></li>
<li><p>None of the above; the iPads in the posts above aren&rsquo;t getting location
information from the iPhone they&rsquo;re tethered to; they&rsquo;re also seeing other
(fixed) base stations in range as they drive by, and are using those MAC
addresses to implement technique #3 the normal way; that is, nothing new is
happening here, and this works as long as you&rsquo;re in range of fixed base
stations (i.e. in a city) but not otherwise (i.e. on the open road, hiking
trails, etc).</p></li>
</ol>


<p>Without going out somewhere where there are no other Wi-Fi signals available,
it&rsquo;s impossible to distinguish case #4 from the others. We tried this in San
Francisco today with an iPad tethered to a Palm Pre on Sprint, and its
location updated in real time as we walked around. I also tried tethering my
MacBook Pro to a Palm Pre on Sprint, then using Google Maps inside Chrome
(which supports geolocation services for web apps), and Google Maps was able
to correctly determine my location &mdash; but again, it&rsquo;s impossible to tell
whether this was case #4 or one of the others.</p>

<p>Further research needed: does the iPad get up-to-date location from all
personal hotspots, or only an iPhone 4? And does this work in the boonies, or
only in range of fixed Wi-Fi base stations whose location is already known?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/17/why-is-the-iphone-so-expensive/">Why Is the iPhone So Expensive?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-17T00:00:00-05:00" pubdate data-updated="true">Feb 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/02/17/why-is-the-iphone-so-expensive/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Why is the iPhone so expensive?</p>

<p>To be clear, it doesn&rsquo;t seem expensive when you buy one subsidized by a
network contract, but the actual price is much higher, and, if you compare it
to its unsubsidized cousins like the iPad or iPod Touch, or to non-Apple
devices with roughly equivalent hardware and manufacturing costs, seems
unjustifiably high.</p>

<p><a href="http://www.asymco.com/2011/01/21/the-end-of-%0Aexclusivity-doesnt-change-the-price-operators-pay-for-the-iphone/">This chart from asymco</a> shows what
I&rsquo;m talking about: Apple gets about $200 per iPod Touch and $600 per iPad, on
average (which price is paid directly by the real customer), and also about
$600 per iPhone, on average (which price is paid by the network operator, and
then subsidized before customers ever see it).</p>

<p>If you compare the iPhone to iPod Touch and iPad, in terms of things like the
hardware included, what it costs to build, how and where you use it, and what
you use it for, the iPhone is much more similar to the iPod Touch, yet the
selling price is much higher &mdash; about what the iPad sells for. And actually,
the cost to you the actual user is much higher for an iPhone than an iPad,
because (in the US) the iPhone is only available locked to a network and with
a really expensive service contract (at least another $1600 over the life of
the contract). (Also, in countries beyond the US where the iPhone is available
unlocked and contract-free, such as Canada and France, the price is much
higher than we&rsquo;re considering here, and even higher than local iPad prices.)</p>

<p>This matters to me because I&rsquo;d love to have an iOS device that is truly
portable and has ubiquitous network connectivity. Of Apple&rsquo;s current devices,
only the iPhone meets those criteria:</p>

<ul>
<li>iPod Touch lacks the ubiquitous network (and other useful features like GPS and a good camera)</li>
<li>iPad is too big to be pocket-portable (but offers ubiquitous network at fair price, starting at $15/month)</li>
<li>iPhone is the right size and has nice GPS/camera/screen hardware and ubiquitous network but requires $70/month minimum over 2 years minimum; theoretically I could get an unlocked one from France and avoid the contract but then it&rsquo;s a ridiculous $900 up front and I still need to find someone to sell me a data-only plan which doesn&rsquo;t really exist in the US, though maybe AT&amp;T can be tricked into it using an activated SIM from a 3G-capable iPad?</li>
</ul>


<p>If the iPod Touch is profitable at $200 (including most of the right hardware)
and the iPad is profitable at $500 (unlocked, with contractless data
available, and a way-too-big screen that surely drives hardware prices up),
surely Apple could sell the iPhone for $400 for an unlocked device and
carriers could offer data-only plans for the same price as they do for iPad.
And I&rsquo;d totally buy one. But no.</p>

<p>(And if you&rsquo;re thinking I should just buy an iPhone and suck up the contract
and monthly fees by using it as my only phone, that&rsquo;s possible and that&rsquo;s what
most people do but it&rsquo;s beside the point. I already have a phone, and am under
contract on a network which doesn&rsquo;t currently offer iPhones, and I think it&rsquo;s
silly that we have to choose networks based on which phones are available, or
phones based on what&rsquo;s available on a given network, instead of just making
everything work together and allowing people real choice. Calling that silly
isn&rsquo;t going to change the situation, but anyway, I&rsquo;m not buying a new
$70/month phone now, but I would consider buying a new $15/month pocketable
tablet. The point I want to draw attention to here is that compared to the
iPhone, the iPod Touch is severely crippled or the iPad is priced really low
or both.)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/15/mac-os-x-bugs-apples-never-gonna-fix/">Mac OS X Bugs Apple&#8217;s Never Gonna Fix</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-15T00:00:00-05:00" pubdate data-updated="true">Feb 15<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/02/15/mac-os-x-bugs-apples-never-gonna-fix/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Mostly the OS X user experience is really good and getting better, and Apple&rsquo;s
famous for fit and finish and general polish and avoiding dreary annoyances
that other platforms make users put up with.</p>

<p>That said, here are a couple problems which I experience sporadically, and
have been seeing for years, and at this point don&rsquo;t really expect to ever see
fixed:</p>

<ol>
<li> Sleep Mac, do something else, later wake it up. Usually this works great (Mac OS on Apple hardware has by far the fastest and most reliable suspend/resume code of any general-purpose OS I&rsquo;ve ever used). However, on resume sometimes I&rsquo;ll be unable to dismiss the screen saver after entering my password. The OS itself is healthy at most levels (compare with Windows which used to frequently BSOD on suspend/resume, or Linux which seems to like to resume most of the hardware but leave the graphics hardware in a useless state): processes are running, input devices work, the rendering stack works. It&rsquo;s just that there&rsquo;s this all-black topmost window which won&rsquo;t go away. I can ssh in and use the Mac like any other Unix machine, but that&rsquo;s small comfort. Reproducible: randomly, occasionally. Fix: reboot.</li>
<li> Leave Mail.app running on two different Macs connected to the same IMAP account served by courier-imap. Sleep one Mac, use the other, wake first the first one, return to Mail.app, and it it won&rsquo;t see changes that happened (new messages that arrived, old messages moved to another folder, etc.) while it was asleep. This bug showed up in Snow Leopard and persists in 10.6.7. Reproducible: always. Fix: quit/relaunch mail.</li>
<li> My desktop background sometimes disappears (and is replaced by the configured background color instead of the configured background image). Reproducible: randomly, frequently. Fix: launch &ldquo;Desktop &amp; Screen Saver&rdquo; prefpane and toggle any setting.</li>
<li> Log into headless Mac mini via Screen Sharing.app (VNC), try to use Fast User Switching to switch to another user account. Display stack gets completely screwed up; I can still ssh into the Mac and use terminal-based processes, but can&rsquo;t use the GUI either remotely via VNC or locally if I attach a screen. Reproducible: always. Fix: reboot.</li>
</ol>


<p>I&rsquo;ve reported most of these to Apple, to see them either languish for years or
get resolved as a dupe of some older bug that&rsquo;s been languishing for even more
years. Oh well.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/08/comcast-data-cap-doesnt-apply-to-on-network-transfers/">Comcast Data Cap Doesn&#8217;t Apply to On-network Transfers?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-08T00:00:00-05:00" pubdate data-updated="true">Feb 8<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/02/08/comcast-data-cap-doesnt-apply-to-on-network-transfers/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For the time being, I have a residential cable connection from Comcast as my
connection to the Internet. One of the things that Comcast gets a lot of
criticism for is their <a href="http://customer.comcast.com/Pages/FAQViewer.aspx?seoid=frequently-%0Aasked-questions-about-excessive-use">250GB monthly transfer
limit</a>, aka &ldquo;cap&rdquo;.</p>

<p>(As an aside, the cap is pretty silly, especially because it&rsquo;s the same for
all the different speeds Comcast sells. That means if you pay more for a
faster connection, you can hit the cap even faster. For their cheaper
&ldquo;Performance&rdquo; plan, at 15mbps, you can transfer 250GB in about 46 hours, or
less than 3 days. For their fastest &ldquo;Ultra&rdquo; plan, at 50mbps, you can hit the
cap in under 14 hours.)</p>

<p>However, one silver lining &mdash; they don&rsquo;t appear to apply the cap to transfers
inside Comcast&rsquo;s network. I use <a href="http://b3.crashplan.com/">CrashPlan</a> for
backup, swapping storage with a friend in another city who also gets his
Internet connection from Comcast. (CrashPlan is pretty neat &mdash; free automatic
backup to any combination of your own computers or computers your friends
offer to share storage on, or, for a price, CrashPlan the company will store
your backups for you.) In January I managed to backup over 300GB across the
Internet to his house, and checking in Comcast&rsquo;s usage meter, it says I&rsquo;ve
only used about 100GB from my 250GB cap.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/03/storytlrtumblr-import-failures-and-fix/">Storytlr/Tumblr Import Failures, and Fix</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-03T00:00:00-05:00" pubdate data-updated="true">Feb 3<span>rd</span>, 2011</time>
        
         | <a href="/blog/2011/02/03/storytlrtumblr-import-failures-and-fix/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I installed <a href="http://storytlr.org/">Storytlr</a> on my own server for personal
use, and then started adding the sources where I have accounts &mdash; Flickr,
Twitter, Delicious, and a few others worked right away, but I couldn&rsquo;t get it
to add Tumblr at all. Every attempt yielded an error message that just said to
try again later; looking in Storytlr&rsquo;s messages.log, I saw more detailed
errors like</p>

<p>2010-12-24T03:50:55+01:00 ERR (3): Exception updating tumblr (21): Tumblr API
returned http status 503 for url: <a href="http://metamatt.tumblr.com/api/read/json?callback=%0Awrap&amp;num=50&amp;start=0">http://metamatt.tumblr.com/api/read/json?ca
llback=wrap&amp;num=50&amp;start=0</a></p>

<p>2010-12-24T20:07:38+01:00 ERR (3): Exception updating tumblr (22): Tumblr API
returned http status 503 for url: <a href="http://metamatt.tumblr.com/api/read/json?callbac%0Ak=wrap&amp;num=50&amp;start=550">http://metamatt.tumblr.com/api/read/json?ca
llback=wrap&amp;num=50&amp;start=550</a></p>

<p>2010-12-24T20:08:10+01:00 ERR (3): Exception updating tumblr (23): Tumblr API
returned http status 503 for url: <a href="http://metamatt.tumblr.com/api/read/json?callback=%0Awrap&amp;num=50&amp;start=0">http://metamatt.tumblr.com/api/read/json?ca
llback=wrap&amp;num=50&amp;start=0</a></p>

<p>2010-12-24T20:09:28+01:00 ERR (3): Exception updating tumblr (24): Tumblr API
returned http status 503 for url: <a href="http://metamatt.tumblr.com/api/read/json?callback%0A=wrap&amp;num=50&amp;start=50">http://metamatt.tumblr.com/api/read/json?ca
llback=wrap&amp;num=50&amp;start=50</a></p>

<p>2010-12-24T20:27:05+01:00 ERR (3): Exception updating tumblr (25): Tumblr API
returned http status 503 for url: <a href="http://metamatt.tumblr.com/api/read/json?callba%0Ack=wrap&amp;num=50&amp;start=1150">http://metamatt.tumblr.com/api/read/json?ca
llback=wrap&amp;num=50&amp;start=1150</a></p>

<p>Note that the &ldquo;start&rdquo; parameter in the request varies each time, and sometimes
got quite large &mdash; Obviously it&rsquo;s looking for too many posts and doesn&rsquo;t know
where to stop, since my Tumblr blog has &lt; 100 posts. My theory is that Tumblr
rate-throttles requests, so when Storytlr makes a few or a few dozen requests
at once, Tumblr returns 503 (temporary failure, try again later) and Storytlr
treats that as a more serious error.</p>

<p>Looking at the Storytlr source, I quickly found the code that imports from
Tumblr, and the problem. Here&rsquo;s the answer:</p>

<pre><code>--- protected/application/plugins/tumblr/models/TumblrModel-orig.php     2010-12-24 11:39:38.000000000 -0800
+++ protected/application/plugins/tumblr/models/TumblrModel.php     2010-12-24 11:40:05.000000000 -0800
@@ -53,9 +53,9 @@
      }

      public function updateData($full=false) {
-          // Fetch the data from twitter
+          // Fetch the data from Tumblr
           $username   = $this-&gt;getProperty(username);
-          $pages          = $full ? 50 : 1;
+          $pages          = $full ? 2 : 1;
           $count          = 50;
           $result      = array();
           $curl = curl_init();
</code></pre>

<p>So it&rsquo;s hardcoded to always ask for 50 pages of data (2500 posts); hardcoded
is probably not the way to go here. (It would be wasteful, but not inherently
wrong, as long as the Tumblr API were happy to return 50 pages of empty posts,
or if the Storytlr import code would understand 503 status codes and retry;
however since the Tumblr API is currently unreliable enough that you&rsquo;re lucky
to get a couple consecutive reads to succeed, and Storytlr doesn&rsquo;t know to
retry, it&rsquo;s important to only ask for what you really need.)</p>

<p>I just hacked it to ask for 2 pages since I knew that would account for my
posts; a better fix would query Tumblr for the actual number of posts, and
stop there, and/or just recognize an empty response and stop there.</p>

<p>(Note: I tried posting this to the <a href="http://groups.google.com/group/storytlr-discuss">Storytlr-discuss mailing
list</a>, which is backed by a
Google Group, but the group is broken or a moderator is eating the post,
because it will temporarily show up and then disappear, with commensurate bugs
in the unread-post count. So I&rsquo;m posting it here.)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/26/reason-number-7-its-weird-getting-internet-service-from-a-cable-company/">Reason Number 7 It&#8217;s Weird Getting Internet Service From a Cable Company</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-26T00:00:00-05:00" pubdate data-updated="true">Jan 26<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/01/26/reason-number-7-its-weird-getting-internet-service-from-a-cable-company/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ads for a Holyfield match during a tech support call?</p>

<p>Reason #7 that it&rsquo;s sub-ideal getting your Internet service from your cable
company, i.e. a company whose real profit motive is to sell you every possible
communications service but mostly incoming video at old-school prices: you
have to listen to ads for pay-per-view boxing matches when you&rsquo;re on hold for
customer support.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/10/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/8/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/03/17/from-tumblr-to-octopress-part-3-footnotes/">From Tumblr to Octopress, part 3: footnotes</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/17/from-tumblr-to-octopress-part-2-how/">From Tumblr to Octopress, part 2: how</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/17/from-tumblr-to-octopress-part-1-why/">From Tumblr to Octopress, part 1: why</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/25/os-x-has-a-builtin-wi-fi-network-scanner/">OS X has a builtin Wi-Fi network scanner</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/25/a-waterproof-tablet-a-step-in-in-the-right-direction/">A waterproof tablet! A step in in the right direction</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/metamatt">@metamatt</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'metamatt',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("metamatt", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/metamatt" class="twitter-follow-button" data-show-count="false">Follow @metamatt</a>
  
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/117348958487049022391?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Matt Ginzton -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'metamatt';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
